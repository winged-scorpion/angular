<section class="tools">
  <div class="tools-content">
    <h1>Тестирование</h1>
    <form #myForm="ngForm" novalidate (ngSubmit)="submit(myForm)">

      <article *ngFor="let item of inputJson">
        <div class="content">
          <div>
            <strong>{{item.question}}</strong>
          </div>
          <div [ngSwitch]="item.type">
            <div *ngSwitchCase="'radio'">
              <label class="questionInput" *ngFor="let questionItemText of item.questionList">
                <input  type="radio" value="{{questionItemText.item}}" name="{{item.name}}" ngModel required>
                <span class="">{{questionItemText.item}}</span>
              </label>
            </div>
            <div *ngSwitchCase="'checkbox'">
              <label class="questionInput" *ngFor="let questionItemText of item.questionList">
                <input name="{{questionItemText.name}}" value="{{questionItemText.item}}" type="checkbox"  ngModel >
                <span>{{questionItemText.item}}</span>
              </label>
            </div>
            <div *ngSwitchCase="'text'">
              <label class="questionInput" *ngFor="let questionItemText of item.questionList">
                <input type="text" name="{{item.name}}"  ngModel required>
                <span>{{questionItemText.item}}</span>
              </label>
            </div>
            <div *ngSwitchCase="'textarea'">
              <label class="questionTextarea" *ngFor="let questionItemText of item.questionList">
                <span>{{questionItemText.item}}</span>
                <textarea  name="{{item.name}}"  ngModel required></textarea>
              </label>
            </div>
          </div>
        </div>
      </article>
      <input type="submit" value="отправить" [disabled]="myForm.invalid">
    </form>
    <div formArrayName="hobbies">
      <h4>your hobbies</h4>
      <button
        class="btn btn-default"
        type="button"
        (click)="onAddHobbie()">
        add hobbie
      </button>
      <div
        class="form-group"
        *ngFor="let hobbyControl of testForm.get('hobbies').controls; let i = index;">
        <input
          type="text"
          class="form-control"
          [formControlName]="i">
      </div>
    </div>
  </div>
</section>
